prototype(Sfi.Kateheo:News) {
	layoutRootPath = 'resource://Sfi.Kateheo/Private/Layouts'
	partialRootPath = 'resource://Sfi.Kateheo/Private/Partials'

	sectionMenu = ${sectionMenu}
	authors =  ${q(node).property('authors')}
	coverCollection = Neos.Neos:ContentCollection{
		nodePath = 'coverCollection'
		prototype(Neos.NodeTypes:Image){
			maximumWidth = 980
			maximumHeight = 653
			allowCropping = TRUE
		}
	}

	main = Neos.Neos:ContentCollection{
		nodePath = 'main'
	}
	category = ${q(node).parent().get(0)}
	@process.contentElementWrapping = Neos.Neos:ContentElementWrapping
}

#Breif rendering of article, used in NewsList
prototype(Sfi.Kateheo:NewsShort) < prototype(Neos.Neos:Content) {
	templatePath = 'resource://Sfi.Kateheo/Private/Templates/NodeTypes/NewsShort.html'
	configuration.thumbnailWidth = 250
	configuration.thumbnailHeight = 180

	title = ${String.stripTags(q(node).property('title'))}
	date = ${q(node).property('date')}
	teaser = ${String.stripTags(q(node).property('teaser'))}
	# first image found becomes the thumbnail image TODO: remove legacy support for coverPhoto
	thumbnailImage = ${q(node).children('coverCollection').children().count() > 0 ? q(node).children('coverCollection').children().get(0) : null}
	#parrent node is the category
	category = ${q(node).parent().get(0)}
	authors =  ${q(node).property('authors')}
}

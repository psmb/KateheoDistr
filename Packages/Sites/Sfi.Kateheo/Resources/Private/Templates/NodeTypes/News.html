{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace m=TYPO3\Media\ViewHelpers}

<f:layout name="withCategoryMenu"/> 

<f:section name="Content">
	<div class="news news-single">
		<div class="article" itemscope="itemscope" itemtype="http://schema.org/Article">
	
			<div class="header">
				<h3 itemprop="headline">{neos:contentElement.editable(property: 'title', tag: 'span')}</h3>
			</div>
	
			<div class="footer">
				<p>
					<!-- date -->
					<span class="news-list-date">
						<time datetime="{f:format.date(date:date, format:'Y-m-d')}">
							<f:format.date >{date}</f:format.date>
							<meta itemprop="datePublished" content="{f:format.date(date:date, format:'Y-m-d')}" />
						</time>
					</span>
					<f:if condition="{node.properties.author.properties.title}">
						<!-- author -->
						<span class="news-list-author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
							<span itemprop="name">{node.properties.author.properties.title}</span>
						</span>
					</f:if>
				</p>
			</div>
			<f:if condition="{node.context.workspace.name} != 'live'">
				<f:then>
					<div class="teaser-text" itemprop="description">
						{neos:contentElement.editable(property: 'teaser', tag: 'span')}
					</div>
				</f:then>
				<f:else>
					<f:if condition="{teaser}">
						<!-- teaser -->
						<div class="teaser-text" itemprop="description">
							{neos:contentElement.editable(property: 'teaser', tag: 'span')}
						</div>
					</f:if>
				</f:else>
			</f:if>
			{coverCollection -> f:format.raw()}
	
			<div class="news-text-wrap" itemprop="articleBody">
				{main -> f:format.raw()}
			</div>
	
			<f:render partial="Disqus" arguments="{_all}" />
	
		</div>
	</div>
</f:section>